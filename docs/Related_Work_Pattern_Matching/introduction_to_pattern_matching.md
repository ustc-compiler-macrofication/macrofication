# 模式匹配
### 概念
在计算机科学中，模式匹配就是检查特定序列的标记是否存在某种模式的组成部分。与模式识别相比，匹配通常必须是精确的。模式通常具有序列或树结构的形式。模式匹配的使用包括输出记号（toekn）序列内的模式的位置（如果有的话），输出匹配模式的一些分量，并用其它一些记号序列（即搜索和替换）替换匹配模式。
### 原始模式
模式匹配中最简单的模式是显式值或变量。例如，在Haskell语法中考虑一个简单的函数定义（函数参数不在括号内，但用空格分隔，“=”不是赋值，而是定义）：
```
f  0  =  1
```
这里，0是单值模式。现在，每当f被赋予0作为参数，模式就会匹配到，函数返回1；如果与任何其他参数匹配，则失败。由于语法支持函数定义中的替代模式，因此我们可以继续将其扩展为更通用的参数：
```
f  n  =  n  *  f  （n - 1 ）
```
在这里，第一个n是单变量模式，它将绝对匹配任何参数，并将其绑定到名称n以用于定义的其余部分。在Haskell中，模式是按顺序尝试的，所以第一个定义仍然适用于输入为0的特定情况，而对于任何其他参数，函数返回n * f (n-1)，其中n是参数。除此之外，通配符模式（通常写为“_”）也很简单<就像一个变量名称，它匹配任何值，但不会将该值绑定到任何名称。
### 树模式
更复杂的模式可以从上一节的基本模式构建，通常与通过组合其他值构建值相同。不同之处在于，对于变量和通配符部分，模式不会构建为单个值，而是匹配一组值，这些值是具体元素和允许在模式结构内变化的元素的组合。

树模式通过从一个节点开始，指定一些分支和节点，并使一些未指定的变量或通配符模式来描述树的一部分。这可能有助于对于编程语言和代数数据类型的抽象语法树的理解。在Haskell中，下面一行定义了一个代数数据类型Color，它有一个ColorConstructor包含整数和字符串的数据构造函数。
```
data Color = ColorConstructor Integer String
```
构造函数是树中的一个节点，整数和字符串都是分支中的叶子。当我们想要写函数并让Color成为一个抽象数据类型时，我们希望写函数接口，我们希望从数据中提取类型的一些数据，例如，仅仅是Color的字符串或整数部分。

如果我们想传递一个Color类型的变量，我们可以这样做。例如，对于获取整数部分的函数Color，我们可以使用一个简单的树模式并写入：
```
integerPart  （ColorConstructor  theInteger  _ ） =  theInteger
```
以及：
```
stringPart  （ColorConstructor  _  theString ） =  theString
```
这些函数的创建可以通过Haskell的数据记录语法自动完成。
### 模式匹配和字符串
到目前为止，最常见的模式匹配形式涉及字符串。在许多编程语言中，使用特定的字符串语法来表示正则表达式，这些正则表达式是描述字符串的模式。它是数据结构中字符串的一种基本运算，给定一个子串，要求在某个字符串中找出与该子串相同的所有子串，这就是模式匹配。常见的匹配算法有如下几种：
1. 朴素的模式匹配算法
2. KMP匹配算法
3. BM匹配算法

上述算法已在算法基础课程中详细介绍过，不再详述。
